<!DOCTYPE html>
<!--I just copy paste the page from project0
    might need Uzo and Nathan's help to make it work
    not sure if it correcly functions-->
<html>
<head>
	<title>Registration</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<link rel="stylesheet" href="design2.css">

</head>
<body>
	<nav class="navbar navbar-light bg-faded">
	  <a class="navbar-brand" href="welcome.html">
	    <img src="logo.png" width="30" height="30" class="d-inline-block align-top" alt="">
	    WHITEBOARD
	  </a>
	</nav>
<div class="container">
	<h1 style="color: black; text-align: center;">User Registration</h1>
		<hr>
		<table>
			<tbody>
				<form id="textForm" method="post">
					<tr>
						<td><label>Username:</label>
							<input type="text" name="userName" id="userName" style="font-family: Verdana">
						</td>
					</tr>
					<tr>
						<td><label>Email:</label>
							<input type="text" name="userEmail" id="userEmail" style="font-family: Verdana">
						</td>
					</tr>
					<tr>
						<td><label>Password:</label>
							<input type="password" name="password" id="password" style="font-family: Verdana">
						</td>
					</tr>
					<tr>
						<td><label>Re-type Password:</label>
							<input type="password" name="confirmPassword" id="confirmPassword" style="font-family: Verdana">
							<p>
								Password must be at least 8 characters long.
							</p>
						</td>
					</tr>
					<tr>
						<td>
							<input type="radio" id="tea_stu1" value="Teacher" name="tea_stu" id="rb">Teacher
							<input type="radio" id="tea_stu2" value="Student" name="tea_stu" id="rb">Student
						</td>
					</tr>					
					<tr>
						<td>
							<button class="button" type="submit" style="vertical-align:middle" onclick = "registerUser()"><span>Register</span></button>
						</td>
					</tr>
				</form>
				<script>
				  $("#rb").on('click', function() 
				  	{
				    $(this).parent().find('input:not(:checked)').attr("disabled", "disabled" );
					})
				</script>
			</tbody>
		</table>
</div>
	
	

</body>

<script type="text/javascript">
		function registerUser() {

			// get variables by their id
			var userName = document.getElementById('userName').value;
			var userEmail = document.getElementById('userEmail').value;
			var password = document.getElementById('password').value;
			var confirmPassword = document.getElementById('confirmPassword').value;
			var isStudent = document.getElementById('tea_stu1')
			var isTeacher = document.getElementById('tea_stu2')

			// ensure user has filled out all fields
			if (userName == "" || userEmail == "" || passw||d == "" || confirmPasswd == "" || isStudent == isTeacher) {
				alert("Make sure you've filled out each field.")
			}

			// ensure pw is at least 8 characters and passwords match
			// also, additionaly check that username and/or email or unique
			// if so, redirect user to their respective home page
			if ((password == confirmPassword) && (password.length > 7)) {
				alert("Registration successful.")

				if isStudent {window.location = "StudentHome.html"}
					else {window.location = "TeacherHome.html"}
				
			} else if (password.length > 7) {
				alert("Passwords do not match.")
			} else {
				alert("Ensure password is at least 8 characters long.")
			}
		}
</script>
</html>